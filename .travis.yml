# Copyright 2019 The OpenTracing Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/io/opentracing/contrib/opentelemetry/bridge
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: fjO9xjAoc1DU3egb+pgOgxL5eNqJHHYpb/ErK4FtOx1OH0LFgRi2T9ybe3U5g5wIYAAxK0zL2OJMGAV8uUH6RRJ8fXoNRAlTyeMifPBh9DiyHejHG5T0iqUay9mbObETTmZG3wjJkDpr7KPuhOqymeRUbUKiAn66Y7iIeNGC2SF48IOk5hECVlp85gZsYga1it6jPs+LQVdX8CobfvKgJ6c8rTWLnGX8CRP2GUvfIFLfcH0b9ozZEVEQLngp3RZY8qe1hs/nqQtUNDL22UO82yzrlyNmUdpizH32AL/y5urQPOBRqCHuoMRLETggpiMbhCjfJ/1Y66KxZMQ1gNgDXPvCwsbXqaW5dkBIypwbf1HsEp97Nu45gUvkat0+/uW0LdXTlHFIMvUdf8i2KIMPmmxL2jUqNIvIVkyr5mgXd4sE1aIfvDogYs1BdQm3kv9bICMBI1Gv7oo4SW6v8J5oq8tq9MXc3rfe+cYX9yWm8GmPd4yaWPhkIeGYxi39s9F+uTOGQLBtK1IUbthyWZGXj7py1JqYH6hbpAsPzNhXY1cftsZoRCL6yfiJEhlaniSRcdPCBFuiF2YwYTwwYH0cJQILQzSAsEtjjocSg396S8PQL3webHaNXNjsXawzxzUAWe+9gyFpM9Tv8AcS7tWkr8q2nZ2p85RUke8t0EVtsKs=
  - secure: ZlM2atj1H2jCIhA7rmBO8EbR23OkNYZsngdQcen7GII9N7oW7FeLhD8TJvhlWfMaFWmLEfLc1K5Q8nJuWfTo5FfOdv2hOxqPjfIHZc5xTAwTyN5TkQINppS8ScnlEJFrdsXQYo+nS0jJ3q2OKW0u7sO3l971QS4XL3M0IrkIKO4XOoc+f/LsINrn6rtJCz+AzmjLJFHHTGeriA1L4ROh+FEictr16QT1a7xifijd1vqfunQ31j2MomQJd59dFA5ZBeC+SGbv5XupJKam9Z3jXN3gRwPUlTWzKxDHyulzbN2D2C56IhrN/NZmif8Uu8D9GpON/7VlP4kWG1b9EKdykg66pa4zLBxA72O8jPvT3bGP2BTkcAr8yWwAO4rsvpOxa9nYd9YDYj7CvstCdoOUxatVJZbY0QP5HHhnuQpgI9oIuqto+BnFsjZYZVM2XUHR+vGRwMtjGuMo89aW9fCGfSj5jqgYWfWPHIzWgKJB8rgfVKB2euHH8QMrlQC54zBmLWkfbZ1VdAkilOtGqmy7+8C2DlASNYabYJAvulV3A7kyqvTXswdEgXJFWdZ+F+DVXtbvZkPsgIr7ACT1dw4vwz1sAHOqThxzimVHiU+HjJ+lOCJAPlVLApOYLi436rVKMumpqVrMIeKK/LvOvThY/EpgoALzr6P1axun+KTd1mk=
  - secure: FPF6Eh0Gx0vKFs1qUt+1UTRdcPMcAIweIMzxMv7Wfyqx4+aeS8eSkARCd7Zi5ZpXzpD8UpCB2RGiXOi0t0lREJB3J897M83ngXY2Sf2eFTPd+f9rsoyEEAyJbJxpxDP2JddcuNsQSmxH2YnpvPlrfz2EHbrGXhB1mt+URKYufObUlx99QqAvAXWcPX4k7usoESRM5q8U/wsylTbkD8ff3PzzlA1gYqJmh5qXUvxBzDoksSaC60r97HhGy/EShyAi3DmFUGw8nIb8AhRvJH8sLsvs7fTpN1m4eJIHdpe2utI4loUir3+C2gPC2SCV/kt0fg2/O2ipcaL/6n19sWgu9HPU8bwo6f3zryOgyZM/neGzjoLzHzxKm/ne+nRp6k1Y2Ay/dKY3bfJzhTSfy6MdVGLRfpyM6j5dmkf82bvSfcoNkbWpkSPT4Vi6vL0S8cwD84kWDw+81DqMGDR7AsLS4k3vbMygdPtEBbkLI0A3EhB9AZO/loD96q1E0TpjXxsfOyK2bblTFXHxCcZLDepkqFHpfDKOK1ofl4DWpG6ePFqi0zSeNjYDHuYaGRy6UN3+TClnX9x7O4AVsnUj+cJgXnNuiDXwtKnm/MgXoI8YRp+j/a935T4Pv8qf9n2nKX8GtTG63tt3C3RZVDgqVWzRPdYX00TRwTErdpU00KgpIGY=
  - secure: dPvnR9zpXbuyFGT8oO6r0soCTUvibKfJksLKWjX7soHlcnEKKa0mZDJDrTsn6ZUaEZaWvVN4ULjrPITLhNxmHiczBDng5UWuMSRXUod+Go8ZMsxhUvh63vUdtjwkZuVSyGGxw8nK1ZxoB6H8zY3ObcLBgiJQ2/tr2pHiChxTdU7xKJYb7xxloUuoipsvFmNRoZmJQw5e7DF2U0BAcupF3EYCGiqFmG0rc/28em0DihA8HP/oBbmTx9Tut7XOm/fzEZsVioBTkGnVeAobnq0MmL3Qj173hsfH3fuF49JcOsRe0F10dU836iiBQcYvufavirsMCqKK0Bcfb2CTmFUXY2npKuHTp5nkslmMKwssO4k3f8lA+KPROc33Y30gihiXWFGuiQko4juKV/YN+vo4qeYvGQK0QCAl6BmE5hJT2q7N5wLbXgdGlYsdmR2ehXj9sjw8eB+RyNs+k2LwLsby5Pi422GwbMhbkGElcF4f+/jmhltBueIIhSB8qua8D0SmOqmftgz8xsa0rJPPt4tOnT7WOY7fSzKTtpldXuGorCfeP5WRivhKKH5DVZMRjYpBQ1JSMIMpam5ATelKGD5t1bH01BDdMYAXJQVSESm3eaNM1/noS3aqUyMBlb+UOxR6Og2PhCqwRhQwlQtj4+xDik4uHU3BOL59CWMBJqjkVpo=
  - secure: W3W/q9z69/eRcpfIKvQAj6DB/jFJye1V8ODudhkTKuxUeXDDYHXuAF+PqGGggKtGJD/uBsNa8WNzYC6TMmFkK3U9mOl0FPTZn9gfFFisP6NjMYXm+Lem8TzdVFUDch+isAtt7nLsFeBTGe6hu/or1MES6GDUd3Fk4kuVIcBXH68VEKFcwGh4mzwcFZsDY2/n459FzAqs5yPSNx+9x/Q9yRxdv/4goF0yE+qeHE01l9oCKhyKsQurMdd8GrWRMvxl2YpmyGhixCiKQ2Jt701nv1X/yhNMSR9RBL6HxmvhImLaoaA0rpPoLd0frRNI9uo8njR31L7WXNMYaqe8jarRAOGbSu9TNnF7RTjQDpS0j8mdZEjJtWan6Iefyzg4DxsU06KARQJmk0zJwybq0ABwbGOtkIgPIbkdt2L0AbkbfAtaxLLvUm8See/nUVcXLxyOFCv0Yfo3cBxK34iq/BEE+G7Rr2Nam8biPy0GdRpjmxr52htV2RAv4qKn1vbWVpFUMU4lOdufukK+7gF/6hWJPU6mvxN73yl4ZIbpYRJ9EC2nwleuZ5HaW3SXYL70BxgGl0H7dMw2sN5exyL17Qmj9A7TnnTwzeNMnrTOVwvF3lUziZL8NpdGVfXPmJ05OanHTnXl+rah2U927sDrEM7UoQXCsiUzNFF77haEgYA/ow4=
  - secure: Kx1pFiMivwjREt5BPIi+2/aJQ6TlAq7AjXEauM8Q8MJgTq6e8TSOhm/sdxZ7Fw4et0RDfHo3V4sBmkpiNqNirC9ncWWGaMAU68zo2KbofMDHAR1/HUZsE1wylWSH5xsgsLIJXxSMDfnGRSkYvIyFTgsHvKcZeig5RaqlGJNl0k3w+nQXdWmYpr+qYBK+bUTt5lAD2OoQG/Qs70AB6Fa6YBuscjNFmiNHJlzdz8W41Sh8ve8rnKdmACUWR6xwav0wUZqxWS762IuB3Vegs6Z80Lv6ITjaP8jT5+frONqOumq+JfVgk66GO7lDNeVvyFUAG5qOmnVDht3umPGIyQLGEef1BJWJ2JY3Tx/w04bDlVSKM5R5yfYC2iNkid8IXMD0/npONHs7ugbzB58BvLz8IWjH6atWW8RmSa69jZTI2qgfZWCa2pyhBu7aVNfHtU88GzrCB90nbY0E3iRL1lS2y3X+9z8adFCuITRBB/tjqA8qAc3cI2zJeCUbWI83omKU9oMyIRqmdIP1WgjHtnvGFtrSImsQxlvRsDNH4smfMZ0ykPUgDpaLrK/cUhjn5mgiLLYVlL0rRcrLJd5xsVhvbOBcG+7iO05rETK9nRQ1QCNr3lCiXT6h5MK+L0NBlZCZ/jV4jQ6KQWWg4mGQfXxI53+xPf6fbs5UhoS5nG4fvWU=
  - secure: Weo9EySxzTpXJb/9W6ZlkSJVVorDWyY9/JjCNwvoqgFOTbyxYjxpwYeA5EaeAkYgkXp69LOfbk1eU9m+/jXl8CDICLmNncJVFeGAG+FkHtOyZEkxOPqVijIgmuPg2nIxDNazGoLh7HA/qy9llgbUsp30pP0azeC1vIkh1nH0+Z6gomOVlcCoSa6Iq6MOY4cVpKuK9DB8IpiPBCdH9nuSbTvm/pcOwfvp7PsJugVy6pcBkUDbFd1FpRn0VI8IfKfVJtgdO0a1pWnREeYkbUlZvONtvHO1N0xdvWuAqcfh6g4LhB2e2DHZEuBTwLiQTe/5l65TOg/rrMC6xPFeUWTKAtkTWb3PDp6nlN5d2hPwBNZxgkLIOFHKU/6+Xw6PsRWZOjJ44McvMW2D4iYp573uHoTqvo4ubJ8JWNh81LFSxc7/TVe8JaKhSpC7e36giarFaBXBbvefdcv0s5CDHveKje6wlhn3oqsDEqI1j7UEA4f49yn6avd/Eg+Z6SNR74hKo59asagAeVR055V9pSLktwGMY8LpSmpqB/jShXG38DmI35/0sehftgaWFs6Nnvvt1wCbGCOLkYTcFGKp/Pp0fsmgjiMEvdwdeqPGVj91Izhu5Cm9acyzCiFefsPFj0w2yV0VS49fFq6uuVVryCRcqcjgojJ7Zkg6fy3JR4KvVZ8=
